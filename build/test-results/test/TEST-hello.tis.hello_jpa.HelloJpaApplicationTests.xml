<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="hello.tis.hello_jpa.HelloJpaApplicationTests" tests="1" skipped="0" failures="0" errors="0" timestamp="2025-05-08T13:38:14.080Z" hostname="this-is-spears-MacBook-Pro.local" time="0.268">
  <properties/>
  <testcase name="contextLoads()" classname="hello.tis.hello_jpa.HelloJpaApplicationTests" time="0.268"/>
  <system-out><![CDATA[22:38:11.654 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [hello.tis.hello_jpa.HelloJpaApplicationTests]: HelloJpaApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
22:38:11.702 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration hello.tis.hello_jpa.HelloJpaApplication for test class hello.tis.hello_jpa.HelloJpaApplicationTests

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.5)

2025-05-08T22:38:11.895+09:00  INFO 24606 --- [    Test worker] h.t.hello_jpa.HelloJpaApplicationTests   : Starting HelloJpaApplicationTests using Java 17.0.15 with PID 24606 (started by this-is-spear in /Users/this-is-spear/Documents/test-workspace/hello-jpa)
2025-05-08T22:38:11.897+09:00  INFO 24606 --- [    Test worker] h.t.hello_jpa.HelloJpaApplicationTests   : No active profile set, falling back to 1 default profile: "default"
2025-05-08T22:38:12.337+09:00  INFO 24606 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-08T22:38:12.363+09:00  INFO 24606 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 2 JPA repository interfaces.
2025-05-08T22:38:12.527+09:00  INFO 24606 --- [    Test worker] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2025-05-08T22:38:12.777+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492777 | took 6ms | statement | connection 1| url jdbc:h2:mem:testdb
CALL SCHEMA()
CALL SCHEMA();
2025-05-08T22:38:12.785+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492785 | took 1ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT SETTING_VALUE FROM INFORMATION_SCHEMA.SETTINGS WHERE SETTING_NAME = 'MODE'
SELECT SETTING_VALUE FROM INFORMATION_SCHEMA.SETTINGS WHERE SETTING_NAME = 'MODE';
2025-05-08T22:38:12.786+09:00  INFO 24606 --- [    Test worker] org.flywaydb.core.FlywayExecutor         : Database: jdbc:h2:mem:testdb (H2 2.3)
2025-05-08T22:38:12.786+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492786 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
CALL SCHEMA()
CALL SCHEMA();
2025-05-08T22:38:12.787+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492787 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
CALL SCHEMA()
CALL SCHEMA();
2025-05-08T22:38:12.788+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492788 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT USER()
SELECT USER();
2025-05-08T22:38:12.789+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492789 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT SETTING_VALUE FROM INFORMATION_SCHEMA.SETTINGS WHERE SETTING_NAME = 'info.BUILD_ID'
SELECT SETTING_VALUE FROM INFORMATION_SCHEMA.SETTINGS WHERE SETTING_NAME = 'info.BUILD_ID';
2025-05-08T22:38:12.795+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492795 | took 1ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME=?
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME='PUBLIC';
2025-05-08T22:38:12.801+09:00  INFO 24606 --- [    Test worker] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-05-08T22:38:12.803+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492803 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.803+09:00  INFO 24606 --- [    Test worker] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.007s)
2025-05-08T22:38:12.805+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492805 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME=?
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME='PUBLIC';
2025-05-08T22:38:12.805+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492805 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.805+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492805 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME=?
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME='PUBLIC';
2025-05-08T22:38:12.807+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492807 | took 1ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = ? AND TABLE_TYPE = 'BASE TABLE'
SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'PUBLIC' AND TABLE_TYPE = 'BASE TABLE';
2025-05-08T22:38:12.807+09:00  INFO 24606 --- [    Test worker] org.flywaydb.core.Flyway                 : All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2025-05-08T22:38:12.808+09:00  INFO 24606 --- [    Test worker] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-05-08T22:38:12.809+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492809 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT USER()
SELECT USER();
2025-05-08T22:38:12.821+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492821 | took 3ms | statement | connection 1| url jdbc:h2:mem:testdb
CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'SA', CURRENT_TIMESTAMP, 0, TRUE
CREATE TABLE IF NOT EXISTS "PUBLIC"."flyway_schema_history" (
    "installed_rank" INT NOT NULL,
    "version" VARCHAR(50),
    "description" VARCHAR(200) NOT NULL,
    "type" VARCHAR(20) NOT NULL,
    "script" VARCHAR(1000) NOT NULL,
    "checksum" INT,
    "installed_by" VARCHAR(100) NOT NULL,
    "installed_on" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "execution_time" INT NOT NULL,
    "success" BOOLEAN NOT NULL,
    CONSTRAINT "flyway_schema_history_pk" PRIMARY KEY ("installed_rank")
) AS SELECT -1, NULL, '<< Flyway Schema History table created >>', 'TABLE', '', NULL, 'SA', CURRENT_TIMESTAMP, 0, TRUE;
2025-05-08T22:38:12.823+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492823 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success")
CREATE INDEX "PUBLIC"."flyway_schema_history_s_idx" ON "PUBLIC"."flyway_schema_history" ("success");
2025-05-08T22:38:12.823+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492823 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.824+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492824 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.825+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492825 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
CALL SCHEMA()
CALL SCHEMA();
2025-05-08T22:38:12.826+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492826 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.830+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492830 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > -1 ORDER BY "installed_rank";
2025-05-08T22:38:12.831+09:00  INFO 24606 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Current version of schema "PUBLIC": << Empty Schema >>
2025-05-08T22:38:12.835+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492835 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME=?
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME='PUBLIC';
2025-05-08T22:38:12.835+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492835 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
SET SCHEMA "PUBLIC"
SET SCHEMA "PUBLIC";
2025-05-08T22:38:12.835+09:00  INFO 24606 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "1.0 - common schema"
2025-05-08T22:38:12.838+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492838 | took 2ms | statement | connection 2| url jdbc:h2:mem:testdb
-- V1.0__common_schema.sql
-- 공통 스키마 생성 (예: 공통 시퀀스, 유틸리티 테이블 등)

-- 여기서는 공통 스키마를 정의하지 않지만, 실제 프로젝트에서는 필요에 따라 추가
-- 예시: 로그 테이블, 설정 테이블, 다국어 지원 테이블 등

-- 버전 테이블 생성 (애플리케이션 버전 정보 관리용 - 선택적)
CREATE TABLE IF NOT EXISTS app_version (
    id INT AUTO_INCREMENT PRIMARY KEY,
    version VARCHAR(50) NOT NULL,
    release_date TIMESTAMP NOT NULL,
    description VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
-- V1.0__common_schema.sql
-- 공통 스키마 생성 (예: 공통 시퀀스, 유틸리티 테이블 등)

-- 여기서는 공통 스키마를 정의하지 않지만, 실제 프로젝트에서는 필요에 따라 추가
-- 예시: 로그 테이블, 설정 테이블, 다국어 지원 테이블 등

-- 버전 테이블 생성 (애플리케이션 버전 정보 관리용 - 선택적)
CREATE TABLE IF NOT EXISTS app_version (
    id INT AUTO_INCREMENT PRIMARY KEY,
    version VARCHAR(50) NOT NULL,
    release_date TIMESTAMP NOT NULL,
    description VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
2025-05-08T22:38:12.839+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492839 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
-- 초기 버전 정보 삽입
INSERT INTO app_version (version, release_date, description)
VALUES ('1.0.0', CURRENT_TIMESTAMP, '초기 버전')
-- 초기 버전 정보 삽입
INSERT INTO app_version (version, release_date, description)
VALUES ('1.0.0', CURRENT_TIMESTAMP, '초기 버전');
2025-05-08T22:38:12.840+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492840 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > -1 ORDER BY "installed_rank";
2025-05-08T22:38:12.841+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492841 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.844+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492844 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
INSERT INTO "PUBLIC"."flyway_schema_history" ("installed_rank", "version", "description", "type", "script", "checksum", "installed_by", "execution_time", "success") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
INSERT INTO "PUBLIC"."flyway_schema_history" ("installed_rank", "version", "description", "type", "script", "checksum", "installed_by", "execution_time", "success") VALUES (1, '1.0', 'common schema', 'SQL', 'V1.0__common_schema.sql', -1313808321, 'SA', 5, true);
2025-05-08T22:38:12.844+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492844 | took 0ms | commit | connection 2| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.844+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492844 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.845+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492845 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.846+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492846 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > -1 ORDER BY "installed_rank";
2025-05-08T22:38:12.848+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492848 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME=?
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME='PUBLIC';
2025-05-08T22:38:12.849+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492849 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
SET SCHEMA "PUBLIC"
SET SCHEMA "PUBLIC";
2025-05-08T22:38:12.849+09:00  INFO 24606 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "1.1 - account schema"
2025-05-08T22:38:12.850+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492850 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
-- V1.1__account_schema.sql
-- 계좌 관련 스키마 생성

-- Money 를 위한 임베디드 타입 대신 DECIMAL 사용
-- Account 테이블 생성
CREATE TABLE IF NOT EXISTS account (
    account_number VARCHAR(255) PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)
-- V1.1__account_schema.sql
-- 계좌 관련 스키마 생성

-- Money 를 위한 임베디드 타입 대신 DECIMAL 사용
-- Account 테이블 생성
CREATE TABLE IF NOT EXISTS account (
    account_number VARCHAR(255) PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
2025-05-08T22:38:12.850+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492850 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
-- 테이블 인덱스 생성
CREATE INDEX idx_account_account_number ON account(account_number)
-- 테이블 인덱스 생성
CREATE INDEX idx_account_account_number ON account(account_number);
2025-05-08T22:38:12.851+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492851 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > 1 ORDER BY "installed_rank";
2025-05-08T22:38:12.851+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492851 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.852+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492852 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
INSERT INTO "PUBLIC"."flyway_schema_history" ("installed_rank", "version", "description", "type", "script", "checksum", "installed_by", "execution_time", "success") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
INSERT INTO "PUBLIC"."flyway_schema_history" ("installed_rank", "version", "description", "type", "script", "checksum", "installed_by", "execution_time", "success") VALUES (2, '1.1', 'account schema', 'SQL', 'V1.1__account_schema.sql', 1053821892, 'SA', 2, true);
2025-05-08T22:38:12.852+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492852 | took 0ms | commit | connection 2| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.852+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492852 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.853+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492853 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.853+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492853 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > 1 ORDER BY "installed_rank";
2025-05-08T22:38:12.855+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492855 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME=?
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME='PUBLIC';
2025-05-08T22:38:12.856+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492856 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
SET SCHEMA "PUBLIC"
SET SCHEMA "PUBLIC";
2025-05-08T22:38:12.856+09:00  INFO 24606 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "1.2 - transaction schema"
2025-05-08T22:38:12.857+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492857 | took 1ms | statement | connection 2| url jdbc:h2:mem:testdb
-- V1.2__transaction_schema.sql
-- 거래 관련 스키마 생성

-- Transaction 테이블 생성
CREATE TABLE IF NOT EXISTS transaction (
    transaction_id VARCHAR(255) PRIMARY KEY,
    source_account_number VARCHAR(255) NOT NULL,
    target_account_number VARCHAR(255) NOT NULL,
    amount DOUBLE PRECISION NOT NULL,
    transaction_date DATE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    -- 제약 조건
    CONSTRAINT ck_different_accounts CHECK (source_account_number != target_account_number)
)
-- V1.2__transaction_schema.sql
-- 거래 관련 스키마 생성

-- Transaction 테이블 생성
CREATE TABLE IF NOT EXISTS transaction (
    transaction_id VARCHAR(255) PRIMARY KEY,
    source_account_number VARCHAR(255) NOT NULL,
    target_account_number VARCHAR(255) NOT NULL,
    amount DOUBLE PRECISION NOT NULL,
    transaction_date DATE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    -- 제약 조건
    CONSTRAINT ck_different_accounts CHECK (source_account_number != target_account_number)
);
2025-05-08T22:38:12.859+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492859 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
-- 인덱스 생성
CREATE INDEX idx_transaction_source_account ON transaction(source_account_number)
-- 인덱스 생성
CREATE INDEX idx_transaction_source_account ON transaction(source_account_number);
2025-05-08T22:38:12.859+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492859 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
CREATE INDEX idx_transaction_target_account ON transaction(target_account_number)
CREATE INDEX idx_transaction_target_account ON transaction(target_account_number);
2025-05-08T22:38:12.860+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492860 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
CREATE INDEX idx_transaction_date ON transaction(transaction_date)
CREATE INDEX idx_transaction_date ON transaction(transaction_date);
2025-05-08T22:38:12.862+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492862 | took 1ms | statement | connection 2| url jdbc:h2:mem:testdb
-- 외래 키 제약 조건
ALTER TABLE transaction
    ADD CONSTRAINT fk_transaction_source_account
    FOREIGN KEY (source_account_number)
    REFERENCES account(account_number)
-- 외래 키 제약 조건
ALTER TABLE transaction
    ADD CONSTRAINT fk_transaction_source_account
    FOREIGN KEY (source_account_number)
    REFERENCES account(account_number);
2025-05-08T22:38:12.863+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492863 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
ALTER TABLE transaction
    ADD CONSTRAINT fk_transaction_target_account
    FOREIGN KEY (target_account_number)
    REFERENCES account(account_number)
ALTER TABLE transaction
    ADD CONSTRAINT fk_transaction_target_account
    FOREIGN KEY (target_account_number)
    REFERENCES account(account_number);
2025-05-08T22:38:12.863+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492863 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > 2 ORDER BY "installed_rank";
2025-05-08T22:38:12.864+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492864 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.864+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492864 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
INSERT INTO "PUBLIC"."flyway_schema_history" ("installed_rank", "version", "description", "type", "script", "checksum", "installed_by", "execution_time", "success") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
INSERT INTO "PUBLIC"."flyway_schema_history" ("installed_rank", "version", "description", "type", "script", "checksum", "installed_by", "execution_time", "success") VALUES (3, '1.2', 'transaction schema', 'SQL', 'V1.2__transaction_schema.sql', -1338131559, 'SA', 7, true);
2025-05-08T22:38:12.864+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492864 | took 0ms | commit | connection 2| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.864+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492864 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.865+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492865 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.865+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492865 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > 2 ORDER BY "installed_rank";
2025-05-08T22:38:12.867+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492867 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME=?
SELECT COUNT(*) FROM INFORMATION_SCHEMA.SCHEMATA WHERE SCHEMA_NAME='PUBLIC';
2025-05-08T22:38:12.867+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492867 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
SET SCHEMA "PUBLIC"
SET SCHEMA "PUBLIC";
2025-05-08T22:38:12.867+09:00  INFO 24606 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Migrating schema "PUBLIC" to version "1.3 - member schema"
2025-05-08T22:38:12.868+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492868 | took 1ms | statement | connection 2| url jdbc:h2:mem:testdb
-- V1.3__member_schema.sql
-- 회원 관련 스키마 생성

-- Member 테이블 생성
CREATE TABLE IF NOT EXISTS member (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone VARCHAR(20),
    address VARCHAR(500),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
)
-- V1.3__member_schema.sql
-- 회원 관련 스키마 생성

-- Member 테이블 생성
CREATE TABLE IF NOT EXISTS member (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone VARCHAR(20),
    address VARCHAR(500),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
2025-05-08T22:38:12.871+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492871 | took 2ms | statement | connection 2| url jdbc:h2:mem:testdb
-- 회원 이력 테이블 (추가 예시)
CREATE TABLE IF NOT EXISTS member_history (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    member_id BIGINT NOT NULL,
    action VARCHAR(50) NOT NULL,
    action_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    action_by VARCHAR(100),
    FOREIGN KEY (member_id) REFERENCES member(id)
)
-- 회원 이력 테이블 (추가 예시)
CREATE TABLE IF NOT EXISTS member_history (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    member_id BIGINT NOT NULL,
    action VARCHAR(50) NOT NULL,
    action_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    action_by VARCHAR(100),
    FOREIGN KEY (member_id) REFERENCES member(id)
);
2025-05-08T22:38:12.872+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492872 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > 3 ORDER BY "installed_rank";
2025-05-08T22:38:12.872+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492872 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.873+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492873 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
INSERT INTO "PUBLIC"."flyway_schema_history" ("installed_rank", "version", "description", "type", "script", "checksum", "installed_by", "execution_time", "success") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
INSERT INTO "PUBLIC"."flyway_schema_history" ("installed_rank", "version", "description", "type", "script", "checksum", "installed_by", "execution_time", "success") VALUES (4, '1.3', 'member schema', 'SQL', 'V1.3__member_schema.sql', 456161178, 'SA', 4, true);
2025-05-08T22:38:12.873+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492873 | took 0ms | commit | connection 2| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.873+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492873 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.874+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492874 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
select * from "PUBLIC"."flyway_schema_history" for update
select * from "PUBLIC"."flyway_schema_history" for update;
2025-05-08T22:38:12.874+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492874 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > ? ORDER BY "installed_rank"
SELECT "installed_rank","version","description","type","script","checksum","installed_on","installed_by","execution_time","success" FROM "PUBLIC"."flyway_schema_history" WHERE "type" != 'TABLE' AND "installed_rank" > 3 ORDER BY "installed_rank";
2025-05-08T22:38:12.875+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492875 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.879+09:00  INFO 24606 --- [    Test worker] o.f.core.internal.command.DbMigrate      : Successfully applied 4 migrations to schema "PUBLIC", now at version v1.3 (execution time 00:00.018s)
2025-05-08T22:38:12.879+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492879 | took 0ms | statement | connection 2| url jdbc:h2:mem:testdb
SET SCHEMA "PUBLIC"
SET SCHEMA "PUBLIC";
2025-05-08T22:38:12.880+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492880 | took 0ms | commit | connection 2| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.880+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492880 | took 0ms | statement | connection 1| url jdbc:h2:mem:testdb
SET SCHEMA "PUBLIC"
SET SCHEMA "PUBLIC";
2025-05-08T22:38:12.880+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711492880 | took 0ms | commit | connection 1| url jdbc:h2:mem:testdb

;
2025-05-08T22:38:12.924+09:00  INFO 24606 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-08T22:38:12.952+09:00  INFO 24606 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.13.Final
2025-05-08T22:38:12.971+09:00  INFO 24606 --- [    Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-08T22:38:13.048+09:00  INFO 24606 --- [    Test worker] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'p6SpyDataSourceDecorator [com.p6spy.engine.spy.P6DataSource] -> proxyDataSourceDecorator [net.ttddyy.dsproxy.support.ProxyDataSource] -> dataSource [net.ttddyy.dsproxy.support.ProxyDataSource]']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-08T22:38:13.141+09:00  INFO 24606 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-08T22:38:13.566+09:00  INFO 24606 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-08T22:38:13.573+09:00  INFO 24606 --- [    Test worker] p6spy                                    : #1746711493573 | took 0ms | statement | connection 4| url jdbc:h2:mem:testdb
select * from INFORMATION_SCHEMA.SEQUENCES
select * from INFORMATION_SCHEMA.SEQUENCES;
2025-05-08T22:38:13.576+09:00  INFO 24606 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-08T22:38:13.775+09:00  WARN 24606 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-08T22:38:14.074+09:00  INFO 24606 --- [    Test worker] h.t.hello_jpa.HelloJpaApplicationTests   : Started HelloJpaApplicationTests in 2.311 seconds (process running for 2.816)
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
